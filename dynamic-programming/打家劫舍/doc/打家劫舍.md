# ğŸ¦¹â€â™‚ï¸ æ‰“å®¶åŠ«èˆ

## ğŸ“ é¢˜ç›®æè¿°

â€‹	ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œæ­£è®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å±‹å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é¾„çš„æˆ¿å±‹è£…æœ‰äº’ç›¸è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€å¦‚æœä¸¤é—´ç›¸é¾„çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥æ—¶ï¼Œé˜²ç›—ç³»ç»Ÿåˆ™ä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚

â€‹	ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„`nums`ï¼Œå…¶æ¯ä¸ªå…ƒç´ `nums[i]`ä»£è¡¨å•ä¸ªæˆ¿å±‹ä¸­å­˜æ”¾çš„ç°é‡‘é‡‘é¢ï¼Œè¯·ä½ è®¡ç®—å‡º**åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹**ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

![å•æ’æ’åˆ—çš„æˆ¿å±‹](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E5%8D%95%E6%8E%92%E6%8E%92%E5%88%97%E7%9A%84%E6%88%BF%E5%B1%8B.png)

## ğŸ“‹ ä»£ç æ¨¡ç‰ˆ

::: code-group

```java
class Solution {
    public int rob(int[] nums) {

    }
}
```

```typescript
function rob(nums: number[]): number {
    
}
```

:::

## ğŸ’¡ æç¤º

1. $1 \leq nums.length \leq 100$
2. $0 \leq nums[i] \leq 400$

## ğŸš€ ç¤ºä¾‹

![ç¤ºä¾‹](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E7%A4%BA%E4%BE%8B.png)

## ğŸ–Šï¸ é¢˜è§£

### è®°å¿†åŒ–æœç´¢

â€‹	å‡è®¾æˆ¿å±‹ä»åºå·0å¼€å§‹æ’åˆ—ï¼Œä¸”`n`ä¸º`nums.length - 1`ã€‚

â€‹	æˆ‘ä»¬å¯ä»¥å…ˆè€ƒè™‘æœ€ç®€å•çš„æƒ…å†µã€‚å¦‚æœåªæœ‰ä¸€é—´æˆ¿å±‹ï¼ˆ`n == 0`ï¼‰ï¼Œåˆ™èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ä¸ºè¯¥æˆ¿å±‹ä¸­çš„ç°é‡‘é‡‘é¢ã€‚å¦‚æœåªæœ‰ä¸¤é—´æˆ¿å±‹ï¼ˆ`n == 1`ï¼‰ï¼Œç”±äºä¸¤é—´æˆ¿å±‹ç›¸é¾„ï¼Œä¸èƒ½åŒæ—¶å·çªƒï¼Œåˆ™èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ä¸ºè¿™ä¸¤é—´æˆ¿å±‹ä¸­ç°é‡‘é‡‘é¢çš„è¾ƒå¤§å€¼ã€‚

â€‹	å¦‚æœæˆ¿å±‹æ•°é‡å¤§äºä¸¤é—´ï¼ˆ`n >= 2`ï¼‰ï¼Œé‚£ä¹ˆå°å·è‡³ç¬¬`n`é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢è®¡ç®—å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µã€‚

1. å·çªƒç¬¬`n`é—´æˆ¿å±‹ï¼Œé‚£å°±ä¸èƒ½å·çªƒç¬¬`n - 1`é—´æˆ¿å±‹ï¼Œå·çªƒæœ€é«˜é‡‘é¢ä¸ºè‡³ç¬¬`n - 2`é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ä¸ç¬¬`n`é—´æˆ¿å±‹å†…çš„ç°é‡‘é‡‘é¢ä¹‹å’Œã€‚

2. ä¸å·çªƒç¬¬`n`é—´æˆ¿å±‹ï¼Œå·çªƒæœ€é«˜é‡‘é¢ä¸ºè‡³ç¬¬`n - 1`é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

â€‹	åœ¨ä»¥ä¸Šä¸¤ç§æƒ…å†µä¸­ï¼Œé€‰æ‹©å·çªƒæœ€é«˜é‡‘é¢è¾ƒå¤§çš„å€¼ï¼Œå³ä¸ºå°å·è‡³ç¬¬`n`é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚

![é€’æ¨å…¬å¼](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E9%80%92%E6%8E%A8%E5%85%AC%E5%BC%8F.png)

â€‹	åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼ŒåŸé—®é¢˜è¢«æ‹†åˆ†ä¸ºä¸¤ä¸ªå­é—®é¢˜ã€‚é€šè¿‡ä»”ç»†è§‚å¯Ÿè¿™ä¸¤ä¸ªå­é—®é¢˜ï¼Œæˆ‘ä»¬å‘ç°å®ƒä»¬ä¸åŸé—®é¢˜ç›¸ä¼¼ï¼Œåªæ˜¯è§„æ¨¡æ›´å°ï¼Œå¹¶ä¸”å½“å­é—®é¢˜çš„ç­”æ¡ˆä¸æ˜ç¡®æ—¶ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å°†å…¶è¿›ä¸€æ­¥åˆ†è§£ä¸ºæ›´å°çš„å­é—®é¢˜ã€‚

â€‹	å› æ­¤ï¼Œè¯¥é¢˜å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢`dfs`æ¥è§£å†³ã€‚æˆ‘ä»¬å®šä¹‰ $dfs(i)$ ä¸ºâ­ï¸è‡³ ç¬¬ $i$ é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒçš„æœ€é«˜é‡‘é¢â­ï¸ï¼Œå…¶ä¸­$0 \leq i \leq n$ã€‚é€’å½’å…¬å¼ä¸º $dfs(i) = max(dfs(i - 1), dfs(i - 2) + nums[i])$ï¼Œé€’å½’è¾¹ç•Œä¸º$dfs(0) = nums[0], dfs(1) = max(nums[0],nums[1])$ã€‚

â€‹	ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å†™å‡ºä»¥ä¸‹ä»£ç ã€‚

::: code-group

```java
class Solution {
    public int rob(int[] nums) {
        int n = nums.length - 1;
        return dfs(n, nums);
    }

    private int dfs(int i, int[] nums) {
        if (i == 0) {
            return nums[0];
        }
        if (i == 1) {
            return Math.max(nums[1], nums[0]);
        }
        return Math.max(dfs(i - 1, nums), dfs(i - 2, nums) + nums[i]);
    }
}
```

```typescript
function rob(nums: number[]): number {
    const n = nums.length - 1;
    const dfs = (i: number): number => {
        if (i == 0) {
            return nums[0];
        }
        if (i == 1) {
            return Math.max(nums[0], nums[1]);
        }
        return Math.max(dfs(i - 1), dfs(i - 2) + nums[i]);
    }
    return dfs(n);
}
```

:::

â€‹	ğŸ˜­ä½†ç»è¿‡å®è·µï¼Œå½“`nums.length`å¢å¤§åˆ°ä¸€å®šé˜ˆå€¼æ—¶ï¼Œä»¥ä¸Šä»£ç çš„æäº¤å¤§æ¦‚ç‡ä¼šå› ä¸ºè¶…æ—¶è€Œæ— æ³•é€šè¿‡ã€‚

![è¶…æ—¶](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E8%B6%85%E6%97%B6.png)

â€‹	é‚£ä¹ˆï¼Œå¯¼è‡´ä»¥ä¸Šä»£ç è¿è¡Œæ•ˆç‡ä½ä¸‹çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å®ƒçš„æ—¶é—´å¤æ‚åº¦ã€‚å‡è®¾`n = 5`ï¼Œå¯ä»¥ç”»å‡ºä»¥ä¸‹é€’å½’æ ‘ã€‚

![é€’å½’æ ‘](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E9%80%92%E5%BD%92%E6%A0%91.png)

â€‹	é€’å½’æ ‘ä¸ºä¸€é¢—äºŒå‰æ ‘ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä»£è¡¨ä¸€ä¸ªå­é—®é¢˜çš„è®¡ç®—ï¼ŒèŠ‚ç‚¹æ€»æ•°ä¸ºæŒ‡æ•°çº§åˆ«ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šéšç€`n`çš„å¢å¤§ï¼Œç”±äºé‡å¤è®¡ç®—ä¸æ–­å¢åŠ ï¼Œå­é—®é¢˜çš„ä¸ªæ•°ä¹Ÿéšä¹‹å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚åŸºäºæ­¤ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(2^n)$ã€‚

â€‹	â­ä»¥ä¸Šæ‰€è¿°ä¸ºå¤šè·¯é€’å½’çš„å…¸å‹é—®é¢˜ï¼Œå³**é‡å¤è®¡ç®—**ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸ªé—®é¢˜ï¼Œç»å…¸çš„è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªã€Œå¤‡å¿˜å½•ã€ï¼Œåœ¨è®¡ç®—æ¯ä¸ªå­é—®é¢˜ä¹‹å‰å…ˆæŸ¥æ‰¾å¤‡å¿˜å½•ã€‚å¦‚æœå¤‡å¿˜å½•ä¸­æ²¡æœ‰è®°å½•è®¡ç®—ç»“æœï¼Œå°±è¿›è¡Œè®¡ç®—å¹¶å°†ç»“æœè®°å½•åœ¨å¤‡å¿˜å½•ä¸­ï¼›åä¹‹ï¼Œåˆ™ç›´æ¥è·å–è®°å½•çš„å€¼å¹¶è¿”å›ã€‚

>**tip**: å¤šè·¯é€’å½’æ˜¯æŒ‡é€’å½’å‡½æ•°ä½“ä¸­å¤šæ¬¡è°ƒç”¨äº†è‡ªèº«ã€‚

â€‹	è¿™ç§å¸¦å¤‡å¿˜å½•çš„é€’å½’ç®—æ³•é€šå¸¸ä¹Ÿè¢«ç§°ä¸º**è®°å¿†åŒ–æœç´¢**ï¼Œå¯¹åº”æœ¬é¢˜çš„ç®—æ³•ä»£ç å¦‚ä¸‹ã€‚

::: code-group

```java
import java.util.Arrays;

class Solution {
    private final static int NOT_CALC = -1;

    public int rob(int[] nums) {
        int n = nums.length;
        int[] memory = new int[n];
        Arrays.fill(memory, -1);
        return dfs(n - 1, nums, memory);
    }

    private int dfs(int i, int[] nums, int[] memory) {
        if (i == 0) {
            return nums[0];
        }
        if (i == 1) {
            return Math.max(nums[0], nums[1]);
        }
        if (memory[i] != NOT_CALC) {
            return memory[i];
        }
        return memory[i] = Math.max(nums[i] + dfs(i - 2, nums, memory), dfs(i - 1, nums, memory));
    }
}
```

```typescript
const NOT_CALC = -1

function rob(nums: number[]): number {
    const n = nums.length
    const memory: number[] = Array(n).fill(NOT_CALC)
    const dfs = (i: number): number => {
        if (i === 0) {
            return nums[0]
        }
        if (i === 1) {
            return Math.max(nums[0], nums[1])
        }
        if (memory[i] !== NOT_CALC) {
            return memory[i]
        }
        return memory[i] = Math.max(nums[i] + dfs(i - 2), dfs(i - 1))
    }
    return dfs(n - 1)
}

export { }
```

::

â€‹	è®°å¿†åŒ–æœç´¢æ˜¯ä¸€ç§å…¸å‹çš„**ç©ºé—´æ¢æ—¶é—´**çš„æ€æƒ³ï¼Œå®ƒæ˜¯åœ¨ä¸€é¢—å­˜åœ¨å¤§é‡å†—ä½™çš„é€’å½’æ ‘ä¸Šé€šè¿‡ã€Œå‰ªæã€ï¼Œä¿è¯äº†æ¯ä¸ªç›¸åŒçš„èŠ‚ç‚¹åªè®¡ç®—ä¸€æ¬¡ã€‚å› æ­¤ï¼Œè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(n)$â€‹ã€‚

![è®°å¿†åŒ–æœç´¢æ ‘](https://fatgod-note.oss-cn-hangzhou.aliyuncs.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%AE%97%E6%B3%95%E5%90%88%E9%9B%86/md-%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2%E6%A0%91.png)

### åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰

â€‹	æ ¹æ®ä»¥ä¸Š`dfs`çš„è§£æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾åœ°å°†å…¶ç¿»è¯‘æˆåŠ¨æ€è§„åˆ’`dp`è§£æ³•ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ã€‚

1. **çŠ¶æ€å®šä¹‰**ï¼šè®¾ $dp$ ä¸ºä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­ $dp[i]$ è¡¨ç¤ºâ­ï¸è‡³ ç¬¬ $i$ é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒçš„æœ€é«˜é‡‘é¢â­ï¸ã€‚è®¾$n = nums.length - 1$ï¼Œ$0 \leq i \leq n$ã€‚
2. **åˆå§‹çŠ¶æ€**ï¼šæ ¹æ®è¾¹ç•Œæ¡ä»¶ï¼Œåˆå§‹åŒ– $dp$ æ•°ç»„çš„å‰ä¸¤é¡¹ï¼Œå³$dp[0] = nums[0], dp[1] = max(nums[0],nums[1])$ã€‚
3. **çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼š$dp[i] = max(dp[i - 1],dp[i - 2] + nums[i])$ï¼Œå…¶ä¸­ $2 \leq i \leq n$ã€‚
4. **è¿”å›å€¼**ï¼š$dp[n]$ï¼Œå³è‡³ç¬¬ $n$â€‹ é—´æˆ¿å±‹èƒ½å¤Ÿå·çªƒçš„æœ€é«˜é‡‘é¢

::: code-group

```java
class Solution {
    public int rob(int[] nums) {
        int n = nums.length;
        if (n == 1) {
            return nums[0];
        }
        if (n == 2) {
            return Math.max(nums[0], nums[1]);
        }
        int[] dp = new int[n];
        dp[0] = nums[0];
        dp[1] = Math.max(nums[0], nums[1]);
        for (int i = 2; i < n; i++) {
            dp[i] = Math.max(nums[i] + dp[i - 2], dp[i - 1]);
        }
        return dp[n - 1];
    }
}
```

```typescript
function rob(nums: number[]): number {
    const n = nums.length
    if (n === 1) {
        return nums[0]
    }
    if (n === 2) {
        return Math.max(nums[0], nums[1])
    }
    const dp: number[] = []
    dp[0] = nums[0]
    dp[1] = Math.max(nums[0], nums[1])
    for (let i = 2; i < n; i++) {
        dp[i] = Math.max(nums[i] + dp[i - 2], dp[i - 1])
    }
    return dp[n - 1]
}

export { }
```

:::

### çŠ¶æ€å‹ç¼©DP

â€‹	ä»¥ä¸Šç®—æ³•éœ€è¦ä¸€ä¸ªå¾ˆé•¿çš„`DP table`ï¼ˆ $dp$ æ•°ç»„ï¼‰æ¥å­˜å‚¨æ‰€æœ‰çš„çŠ¶æ€ï¼Œä½†æˆ‘ä»¬ä»”ç»†è§‚å¯ŸçŠ¶æ€è½¬ç§»æ–¹ç¨‹$dp[i] = max(dp[i - 1],dp[i - 2] + nums[i])$ï¼Œå¯ä»¥å‘ç°å½“å‰çŠ¶æ€çš„è®¡ç®—åªä¾èµ–äºå‰ä¸¤ä¸ªçŠ¶æ€ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ã€Œæ»šåŠ¨æ•°ç»„ã€çš„æ€æƒ³ï¼Œåˆ©ç”¨è‹¥å¹²å˜é‡æ›¿ä»£ $dp$ æ•°ç»„ï¼Œåœ¨ä¿æŒç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸å˜çš„å‰æä¸‹ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä» $O(n)$ ä¼˜åŒ–è‡³ $O(1)$ã€‚

â€‹	è¿™ç§æŠ€å·§é€šå¸¸ä¹Ÿè¢«ç§°ä¸º**çŠ¶æ€å‹ç¼©**ï¼Œå¯¹åº”æœ¬é¢˜çš„ç®—æ³•ä»£ç å¦‚ä¸‹ã€‚

::: code-group

```java
class Solution_StateCompressionDp {
    public int rob(int[] nums) {
        int n = nums.length;
        if (n == 1) {
            return nums[0];
        }
        if (n == 2) {
            return Math.max(nums[0], nums[1]);
        }
        int prev = nums[0], current = Math.max(nums[0], nums[1]);
        for (int i = 2; i < n; i++) {
            int next = Math.max(nums[i] + prev, current);
            prev = current;
            current = next;
        }
        return current;
    }
}
```

```typescript
function rob(nums: number[]): number {
    const n = nums.length
    if (n === 1) {
        return nums[0]
    }
    if (n === 2) {
        return Math.max(nums[0], nums[1])
    }
    let prev = nums[0], current = Math.max(nums[0], nums[1])
    for (let i = 2; i < n; i++) {
        const next = Math.max(nums[i] + prev, current)
        prev = current
        current = next
    }
    return current
}

export { }
```

:::

## ğŸ’­ å¤æ‚åº¦åˆ†æ

â€‹	åŸºäº`è®°å¿†åŒ–æœç´¢`çš„è§£å†³æ–¹æ¡ˆçš„å¤æ‚åº¦åˆ†æå¦‚ä¸‹ã€‚

+ æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ ã€‚

â€‹	åŸºäº`åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰`çš„è§£å†³æ–¹æ¡ˆçš„å¤æ‚åº¦åˆ†æå¦‚ä¸‹ã€‚

+ æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ ã€‚

â€‹	åŸºäº`çŠ¶æ€å‹ç¼©DP`çš„è§£å†³æ–¹æ¡ˆçš„å¤æ‚åº¦åˆ†æå¦‚ä¸‹ã€‚

+ æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ ã€‚
